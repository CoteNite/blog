# 个人面试

**这里的问题并非全都是面经，还有一些是我的提前准备**

这里需要注意的是，你在面试的时候一定要胆子大，也就是敢说，就算一个问题你不会，也要试图用你会的内容尝试解决他，引导面试官去问你会的内容。

如果真不会，或者回答不上来（也就是大脑一片空白了），别磕巴，直接说没了解过或者没遇到过，这样至少能给面试官留下一个较好的性格印象。
## 个人介绍

面试官您好，我目前大学在读，正在读大二，是软件工程专业。我平日主要使用Java与Kotlin语言通过SpringBoot框架进行后端方向的开发。熟悉使用MySQL，Redis等技术栈，同时学习过SpringCloud，SpringAI等框架，具有一定的分布式项目与Ai项目的开发能力。平日我会将我自己学习的内容更新到我的Github个人主页上，目前也已经有了五六万行的数据量。然后项目部分的话，这两个项目是我自己设计开发的，已经使用Git同步更新到了Github上，第一个项目主要是一个涉及到分布式的图文交流论坛，第二个则是基于SpringAI框架的本地Agent服务。

## 项目中遇到过什么问题

在分布式项目中，我曾经遇到过Gateway结合SaToken的时候在网关层通过Id获取Token获取不到的问题，当时这个问题我发现只会在第一次请求这个用户的Token的时候出现，于是我去查询了Satoken的仓库的issue，发现并没有人提过这个issue，于是我只能自己在Ai的帮助下尝试解决这个问题，最后我通过他的异常发现可能是Satoken第一次请求的时候没有初始化导致的，于是我查询了Satoken的Filter的Order，发现他的值是-100，于是我将我自己网关层的Filter的Order降到了-90，进而在Satoken的Filter之后进行，从而保证了Satoken的Filter一定在我之前完成，经过实际测试，这一操作确实也解决了第一次获取Token获取不到的问题

## 你的项目开发流程

因为我的项目只有我一个人进行开发，所以我进可能的尝试去模拟正式的一个开发流程，由于我的分布式项目使用了DDD的开发模式，所以我会先尝试去进行一个小的建模，去找到一个问题域的聚合根，然后争取将业务集中在domain中完成。部署的话我会现在服务器上部署一套CI/CD系统，然后通过Git提交项目后进行一个自动化的部署。

## 你说你用了CI/CD的流程，能介绍一下是如何实现的吗

好的，早期的话我的CI/CD系统的话主要是使用了Gitea+Jekins进行的部署，Jekins自动的获取Gitea的git信息，当git提交数据到Gitea之后就会自动的拉取Gitea仓库中的数据进行项目的构建与部署。

后来由于我的项目模块变多，一个个的通过上传到Gitea上拉取部署过于不便了，所以我决定使用打包Docker镜像的方式来进行部署，这里也就将项目改成了Gitea+Harbor+Jekins+Docker+Docker File的形式进行部署（引入了Harbor）。然后通过在项目中编写Docker File文件来创建Docker镜像，让Jenkins自动获取仓库中的DockerFile文件在进行自动的使用Docker构建镜像，然后上传到Harbor到，再通过Docker拉取Harbor中的Docker镜像来部署项目

## 你这是个微服务项目，那你统计过微服务的数量以及部署需要的服务器吗

这里我选择诚实说

zhong'guo

## 我看你提到了DDD，说说DDD是什么

啊，DDD的话就是领域驱动设计嘛（Domain Driven Design），是一种以Domain为核心的设计模式，争取将所有的业务集中在Domain层或者说是领域对象中解决。在我的项目中使用了六边形架构，每一个模块的话都依赖于核心的Domain模块，（然后对外的过程依赖于infrastructure模块）力争让项目结构分工明确

## Redis Key重复了怎么办

**这里就是一个问题，面试官可能想问的是Redis底层的HashMap如何解决的Hash冲突问题，但是你不会，你可以尝试用业务的方式解答一下，万一面试官不接着往下问了呢**

因为系统采用了Leaf框架进行分布式Id生成，因此一般不会产生Key重复的情况，所以我会先检查是不是代码哪里写出了问题导致的Key重复，如果不是代码问题那么我会选择使用Lua脚本来对redis进行一个先查询再存入的过程。如果还是无法避免的话可能就要考虑是不是我的业务整体设计的存在问题。

**实际，面试官可能是想表达Hash冲突怎么办**

这是一个数据结构结合真实实现的问题，HashMap真实的情况是会根据你传入的Key去计算Key的hash值，也就是说不论什么类型的Key（Redis中都是String，但Java并非如此），都会被计算成为一个Hash值，然后通过这个Hash值去分配地址，这个Hash值大概率是不会冲突的，但也确实可能存在两个不同的Key最后计算的Hash一样的情况，这时就需要解决Hash冲突，Redis中采取的是链地址法方案，也就是说如果oldKey的值和newKey的值冲突了，会将newKey插在oldKey的位置，然后newKey中专门分配一块内存用来指向oldKey，即让oldKey插在newKey的后面（尾插法）

## Redis内存不足怎么办

Redis是基于内存的，所以Redis中存放的数据一般都是一些热点的讯息，如果Redis内存不足，那就要查看是不是有的数据应该去主动的给他设计一个过期时间，让他去自动的过期删除掉，如果实在没有问题，那就可能要考虑是不是需要去增加物理内存

## Redis的常用数据结构

Redis是键值对数据库，也就是所有的数据都是K-V的形式存在，其中K肯定是String类型，所以这里提及的是V的区别

String，Set，ZSet，List，HashMap，以及一些拓展类型（布隆过滤器，bitmap）