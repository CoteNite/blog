# Java，Scala，Kotlin——JVM语言的成长历程

前些时间对函数式编程产生了兴趣，于是学了一点 Scala。加上原本经常使用的 Java 和 Kotlin，如今我已经接触了三门 JVM 语言 

这些语言之间各有不同，却又彼此借鉴、互相启发。在对比与思考的过程中，我逐渐对编程范式有了一些新的理解，于是写下这篇文章，聊聊 JVM 世界的演化与思维的迁移。

## 一切都要从很久很久以前说起......

Java 诞生于 1990 年代初，由 SUN 公司创建，那是一个令人怀念的时代，面向对象编程正快速崛起，各大公司和研究团队都在尝试探索软件开发的最佳方式，而 Java 正是在这样的背景下诞生的。

在那个年代，程序员们常常为**平台差异性**而困扰——一个程序在 A 平台上能正常运行，却可能在 B 平台上崩溃。

为了解决这一问题，SUN 公司提出了一个极具前瞻性的概念：**虚拟机（JVM）**。让程序运行在一个统一的虚拟执行环境中，由 JVM 负责处理底层平台差异。程序员只需面对一套统一的 API，就能实现“一次编写，到处运行”的理想。

除此之外，JVM 还接管了诸如内存管理、垃圾回收等底层操作，让开发者可以从繁琐的资源管理中解放出来，专注于业务逻辑。  

可以说，SUN 的设计理念是：**让程序员更专注于创造，而非琐碎的维护**。而这些理念直到今天仍然深刻地影响着现代语言的设计。

随着时间推移，软件开发逐渐形成新的共识——新的语言不断出现，旧的语言也在被重新思考，新时代的编程语言的发布（比如C#），与此同时，开发者们也在尝试用新的语言设计理念来继承并改进Java的优势，也在指明Java这个老东西可能有一些地方应该改进

当然，Java作为一门开放且积极的语言自然也在不断的优化自己，不过由于历史包袱的原因，这个过程肯定是漫长的，于是，人们开始尝试在 JVM 上打造新的语言，既能继承 Java 的优势，又能突破它的限制，这便催生了 Scala、Groovy、Clojure、Kotlin 等语言的诞生

## Scala——JVM在函数式方向的尝试

函数式编程（Functional Programming）早在上世纪 50 年代就已出现。它主张让函数成为“一等公民”，避免副作用，用表达式代替语句，并尽量不修改状态。

由于硬件与时代背景，这些理念在当时并未流行，但随着软件复杂度的上升，函数式编程的思想被越来越多的现代语言吸收，成为编程中不可或缺的一部分。

Scala 的诞生正是 JVM 世界向函数式编程迈出的一步。

Scala是2000年初发布的语言，他的主导者Martin Odersky是一位热爱函数式编程的大学教授，并且曾经参与过Java语言核心内容的开发（尤其是 JDK5 中的泛型）

Martin Odersky教授曾在Java在一个名为 “Pizza” 的实验项目证明了JVM+函数式编程是可行的。这个实验的成功，让他坚信 JVM 完全有能力承载函数式思想。

最初Martin Odersky教授致力于让Java变得更好，但Java的一些强约束始终令他困扰（这也是Java现在时常被开发者们诟病的一点），这给他为Java实现真正的函数式编程带来了很大的阻挠，外加早期Java泛型（GJ）被SUN的搁置，导致他决定后退一步，重新设计一门编程语言，这也就有了我们熟知的Scala。

在Scala正式成型之前，Martin Odersky教授的团队还曾设计过一门更学术化的语言 **Funnel**，但他们很快发现：Funnel 在**学术上足够优雅，却离实际开发需求**。这与Scala的初心相悖。这令Martin Odersky教授不得不重新思考——开发者真正需要的语言，究竟是什么

最终，Scala 选择落地于现实世界：既要保持函数式编程的纯粹，又不放弃工程化的实用性

这直接奠定了 Scala 的独特气质——它既是学术派的代表，又是工程师手中的利器，他让我们真正的看到：**在 JVM 上，函数式编程不仅可能，而且强大。**

## Kotlin——SUN时代之后对于Java的思考

时间来到 2008 年，SUN 公司由于经营问题与经济危机的双重冲击，最终宣告破产，并于次年被甲骨文公司（Oracle）收购，这个曾经被评为行业内最有创造力的公司，一个时代的缩影，最终宣告结束。

在SUN陨落后，Oracle接管了SUN名下包括Java和MySQL在内的大量资产，但是他们却改变了SUN长期以来”以开发者与开源为核心“的思想，对Java进行了一系列的限制，这也导致了Oracle与Google长达十余年的官司问题

<p style="font-size:13px;">正如当年诺基亚被微软收购时，Jorma Ollila 在发布会上那句意味深长的话：我们没有做错什么，但不知为何，我们输了。</p>

在这种氛围下，JetBrains公司站了出来，决定自己来开创一门更好的Java，一个真正面向开发者的现代化 JVM 语言，这也就是未来的Kotlin

Kotlin 从一开始就带着“让开发更简单、更愉快”的目标，它借鉴了 Scala 的许多思想——空安全、扩展函数、lambda 表达式、不可变性等——但舍弃了 Scala 过于复杂的类型系统与语法结构。  

正如Kotlin的设计哲学不是“追求完美”，而是“追求实用”一样，他是一门真正注重工程师每天面对代码时的体验的语言。

凭借 JetBrains 的开发经验与庞大用户基础，Kotlin 得以快速迭代，2016 年，Kotlin 正式发布 1.0 版本——标志着这门语言的成熟登场，它不仅完美兼容 Java，还以更简洁、更安全、更现代的方式解决了 Java 多年来的痛点。

如今，Kotlin 已成为 Android 与 Spring 官方推荐语言之一，他仍然准守着“简洁、高效、可维护”的承诺，也让人们看到了——Java 的精神，正在以新的形式继续延伸。

## 更好的面向对象

我们都知道，Java，Scala，Kotlin，都是面向对象的语言，但是Java却由于时代原因保留了八种基本类型——byte short int long float double boolean char

这是Java相对保守的一面，但是在后面的实践体验中，开发者们逐渐意识到这几个基本类型是不必要的，基本类型想要使用方法必须jie'you